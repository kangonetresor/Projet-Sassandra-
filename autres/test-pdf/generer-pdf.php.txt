generer-pdf.php

<?php

nécessitent __DIR__ . « /vendor/autoload.php";

utiliser Dompdf\Dompdf ;
utiliser Dompdf\Options;

$name = $_POST["name"];
$quantity = $_POST["quantité"];

$html = '<h1 style="color: green">Exemple</h1>';
$html .= « Bonjour <em>$name</em> »;
$html .= '<img src="example.png">';
$html .= « Quantité: $quantity »;

/**
 * Définir les options Dompdf
 */
$options = nouvelles options;
$options->setChroot(__DIR__);
$options->setIsRemoteEnabled(true);

$dompdf = new Dompdf($options);

/**
 * Définir le format et l’orientation du papier
 */
$dompdf->setPaper(« A4 », « paysage");

/**
 * Chargez le code HTML et remplacez les espaces réservés par les valeurs du formulaire
 */
$html = file_get_contents(« modèle.html");

$html = str_replace(["{{ name }} », « {{ quantity }}"], [$name, $quantity], $html);

$dompdf->loadHtml($html);
$dompdf->loadHtmlFile(« template.html »);

/**
 * Créer le PDF et définir les attributs
 */
$dompdf->render();

$dompdf->addInfo(« Titre », « Un exemple de PDF »); // « add_info » dans les versions antérieures de Dompdf

/**
 * Envoyer le PDF au navigateur
 */
$dompdf->stream(« facture.pdf », ["Pièce jointe » => 0]);

/**
 * Enregistrer le fichier PDF localement
 */
$output = $dompdf->output();
file_put_contents(« fichier.pdf », $output);